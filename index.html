<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>CROSS VIEWER</title>
    <link rel="icon" href="./dist/favicon.ico">
    <script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
    <!-- <script src="./lib/jquery.min.js"></script> -->
    <script src="./dist/crossviewer-vendor.js"></script>
    <script src="./dist/crossviewer-main.js"></script>
    <script>
      
      $(function() {

        $("#viewerDiv").load("./dist/viewer.html");  

        $("#test1").click(function() {
          // alert("click test1");
          window.fnLoadImageValue("https://www.bizforms.co.kr/form_openpreview/form_187347_1.jpg");
          
        });
        $("#test2").click(function() {
          // alert("click test2");
          //window.window.fnPositionMasking("100,200,200,20");
          for ( i=1; i<=10; i++) {
            window.fnPositionMasking("100, "+ 15*i +",200,10");
          }
        });
        $("#test3").click(function() {
          // alert("click test3");
          window.fnMoveToMasking(5);
         
        });
        $("#test4").click(function() {
          // alert("click test4");
          window.fnClear();
        });
        $("#test5").click(function() {
          self.close();
        });

        // $("#btnSubmit").on("click", function(e) {
        //   $.ajax({
        //     url: url,
        //     type : 'get',
        //     xhrFields: { //response 데이터를 바이너리로 처리한다.
        //       responseType: 'blob'
        //     },
        //     success : function(data) {
        //       console.log("완료");
        //       var blob = new Blob([data]);
        //       //파일저장
        //       if (navigator.msSaveBlob) {
        //         return navigator.msSaveBlob(blob, url);
        //       }
        //       else {
        //         var link = document.createElement('a');
        //         link.href = window.URL.createObjectURL(blob);
        //         link.download = url;
        //         link.click();
        //       }
        //     }
        //   });
        // });

      });
      
    </script>
    
  </head>
  <body>
    <button id="test1" type="button">이미지로드</button>
    <button id="test2" type="button">마스킹추가</button>
    <button id="test3" type="button">마스킹이동</button>
    <button id="test4" type="button">마스킹초기화</button>
    <button id="test5" type="button">창닫기</button>
    <div id="viewerDiv" ></div>
  </body>
</html>
